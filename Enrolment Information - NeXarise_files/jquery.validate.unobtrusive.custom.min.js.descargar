define(["jquery","jquery-validate","jquery-validate-unobtrusive"],function(n){function t(n){return n.substr(0,n.lastIndexOf(".")+1)}function r(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function i(t,i,u){var c=r(t,u),e=n("*[name='"+c+"']"),h=e.attr("type"),f,o,s;return h==="checkbox"?f=e.prop("checked"):h==="radio"?(o=e.filter(":checked"),o.length&&(f=o.val())):f=e.val(),s=e.data("dateformat"),s!=undefined&&(f=n.datepicker.parseDate(s,f)),f}n.validator.addMethod("enforcetrue",function(n,t){return t.checked});n.validator.unobtrusive.adapters.addBool("enforcetrue");n.validator.addMethod("requiredif",function(t,i,r){var u=r.validatorFunc,f=u();return f?n.validator.methods.required.call(this,t,i,r):!0});n.validator.unobtrusive.adapters.add("requiredif",["expression"],function(n){var r=t(n.element.name),u=n.params.expression,f=function(n,t){return i(n,t,r)};eval("function theValidator(gv) { return "+u+";}");n.rules.requiredif={validatorFunc:function(){return theValidator(f)}};n.messages.requiredif=n.message});n.validator.addMethod("regexif",function(t,i,r){for(var e,f=r.cases,u=0;u<f.length;u++)if(e=f[u].validate(),e)return n.validator.methods.regex.call(this,t,i,f[u].RegularExpression);return!0});n.validator.unobtrusive.adapters.add("regexif",["cases"],function(n){for(var r=JSON.parse(n.params.cases),f=t(n.element.name),e=function(n,t){return i(n,t,f)},u=0;u<r.length;u++)(function(n,t){eval("function theValidator(gv) { return "+t+";}");r[u].validate=function(){return theValidator(n)}})(e,r[u].Condition);n.rules.regexif={cases:r};n.messages.regexif=n.message})});