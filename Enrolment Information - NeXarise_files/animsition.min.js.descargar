/*!
 * animsition v4.0.2
 * A simple and easy jQuery plugin for CSS animated page transitions.
 * http://blivesta.github.io/animsition
 * License : MIT
 * Author : blivesta (http://blivesta.com/)
 */
!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";var r=!1,i,t;n(window).on("load",function(){r=!0});i="animsition";t={init:function(u){var f,e;return(u=n.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(n){window.location.href=n}},u),t.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}},f=t.supportCheck.call(this,u),!f&&u.browser.length>0&&(!f||!this.length))?("console"in window||(window.console={},window.console.log=function(n){return n}),this.length||console.log("Animsition: Element does not exist on page."),f||console.log("Animsition: Does not support this browser."),t.destroy.call(this)):(e=t.optionCheck.call(this,u),e&&n("."+u.overlayClass).length<=0&&t.addOverlay.call(this,u),u.loading&&n("."+u.loadingClass).length<=0&&t.addLoading.call(this,u),this.each(function(){var f=this,o=n(this),e=n(window),s=n(document),h=o.data(i);h||(u=n.extend({},u),o.data(i,{options:u}),u.timeout&&t.addTimer.call(f),u.onLoadEvent&&(r?(t.settings.timer&&clearTimeout(t.settings.timer),t["in"].call(f)):e.on("load."+i,function(){t.settings.timer&&clearTimeout(t.settings.timer);t["in"].call(f)})),e.on("pageshow."+i,function(n){n.originalEvent.persisted&&t["in"].call(f)}),e.on("unload."+i,function(){}),s.on("click."+i,u.linkElement,function(i){i.preventDefault();var r=n(this),u=r.attr("href");2===i.which||i.metaKey||i.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&i.ctrlKey?window.open(u,"_blank"):t.out.call(f,r,u)}))}))},addOverlay:function(t){n(t.overlayParentElement).prepend('<div class="'+t.overlayClass+'"><\/div>')},addLoading:function(t){n(t.loadingParentElement).prepend('<div class="'+t.loadingClass+'">'+t.loadingInner+"<\/div>")},removeLoading:function(){var r=n(this),t=r.data(i).options,u=n(t.loadingParentElement).children("."+t.loadingClass);u.fadeOut(1500)},addTimer:function(){var r=this,u=n(this),f=u.data(i).options;t.settings.timer=setTimeout(function(){t["in"].call(r);n(window).off("load."+i)},f.timeoutCountdown)},supportCheck:function(t){var e=n(this),u=t.browser,f=u.length,r=!1,i;for(0===f&&(r=!0),i=0;f>i;i++)if("string"==typeof e.css(u[i])){r=!0;break}return r},optionCheck:function(i){var r=n(this);return i.overlay||r.data(t.settings.data.overlay)?!0:!1},animationCheck:function(t,r,u){var o=n(this),f=o.data(i).options,e=typeof t,s=!r&&"number"===e,h=r&&"string"===e&&t.length>0;return s||h?t=t:r&&u?t=f.inClass:!r&&u?t=f.inDuration:r&&!u?t=f.outClass:r||u||(t=f.outDuration),t},"in":function(){var r=this,u=n(this),f=u.data(i).options,h=u.data(t.settings.data.inDuration),c=u.data(t.settings.data.inClass),e=t.animationCheck.call(r,h,!1,!0),o=t.animationCheck.call(r,c,!0,!0),l=t.optionCheck.call(r,f),s=u.data(i).outClass;f.loading&&t.removeLoading.call(r);s&&u.removeClass(s);l?t.inOverlay.call(r,o,e):t.inDefault.call(r,o,e)},inDefault:function(i,r){var u=n(this);u.css({"animation-duration":r+"ms"}).addClass(i).trigger(t.settings.events.inStart).animateCallback(function(){u.removeClass(i).css({opacity:1}).trigger(t.settings.events.inEnd)})},inOverlay:function(r,u){var f=n(this),e=f.data(i).options;f.css({opacity:1}).trigger(t.settings.events.inStart);n(e.overlayParentElement).children("."+e.overlayClass).css({"animation-duration":u+"ms"}).addClass(r).animateCallback(function(){f.trigger(t.settings.events.inEnd)})},out:function(r,u){var f=this,e=n(this),l=e.data(i).options,s=r.data(t.settings.data.outClass),a=e.data(t.settings.data.outClass),h=r.data(t.settings.data.outDuration),v=e.data(t.settings.data.outDuration),y=s?s:a,p=h?h:v,o=t.animationCheck.call(f,y,!0,!1),c=t.animationCheck.call(f,p,!1,!1),w=t.optionCheck.call(f,l);e.data(i).outClass=o;w?t.outOverlay.call(f,o,c,u):t.outDefault.call(f,o,c,u)},outDefault:function(r,u,f){var e=n(this),o=e.data(i).options;e.css({"animation-duration":u+1+"ms"}).addClass(r).trigger(t.settings.events.outStart).animateCallback(function(){e.trigger(t.settings.events.outEnd);o.transition(f)})},outOverlay:function(r,u,f){var s=this,e=n(this),o=e.data(i).options,h=e.data(t.settings.data.inClass),c=t.animationCheck.call(s,h,!0,!0);n(o.overlayParentElement).children("."+o.overlayClass).css({"animation-duration":u+1+"ms"}).removeClass(c).addClass(r).trigger(t.settings.events.outStart).animateCallback(function(){e.trigger(t.settings.events.outEnd);o.transition(f)})},destroy:function(){return this.each(function(){var t=n(this);n(window).off("."+i);t.css({opacity:1}).removeData(i)})}};n.fn.animateCallback=function(t){var i="animationend webkitAnimationEnd";return this.each(function(){var r=n(this);r.on(i,function(){return r.off(i),t.call(this)})})};n.fn.animsition=function(r){return t[r]?t[r].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof r&&r?void n.error("Method "+r+" does not exist on jQuery."+i):t.init.apply(this,arguments)}});